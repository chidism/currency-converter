<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Currency Converter</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="cc.css">
  </head>

  <body id="page-top" style="background: url(homepage.png); background-size: cover;"  >

        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg  fixed-top" >
         
            <a class="navbar-brand" href="#">Currency Converter</a>
         
        </nav>

        <!-- Page Content -->
       
        <div class="container content mx-auto" >

             <h1>Currency Converter</h1>
             <h3 >Convert any currency
             <br>Online and Offline.</h3>
            

            <div class="row">

                <select class="col-sm-2" id="currency-selector">
                     <option value=""> </option>

                </select>

                <input class="col-sm-3" id="amount" type="number" placeholder="Enter Amount">
            
                <select class="col-sm-2" id="currency-selector2">
                        <option value=""> </option>
   
                   </select>

             </div>

                <br />
             <button id="convert" class="btn btn-round"> CONVERT</button>

             <p id="result"></p>

        </div>

    <script type="text/javascript">

                var https = require('https');

                function convertCurrency(amount, fromCurrency, toCurrency, cb) {
                var apiKey = 'your-api-key-here';

                fromCurrency = encodeURIComponent(fromCurrency);
                toCurrency = encodeURIComponent(toCurrency);
                var query = fromCurrency + '_' + toCurrency;

                var url = 'https://www.currencyconverterapi.com/api/v5/convert?q='
                            + query + '&compact=ultra&apiKey=' + apiKey;

                https.get(url, function(res){
                    var body = '';

                    res.on('data', function(chunk){
                        body += chunk;
                    });

                    res.on('end', function(){
                        try {
                            var jsonObj = JSON.parse(body);

                            var val = jsonObj[query];
                            if (val) {
                            var total = val * amount;
                            cb(null, Math.round(total * 100) / 100);
                            } else {
                            var err = new Error("Value not found for " + query);
                            console.log(err);
                            cb(err);
                            }
                        } catch(e) {
                            console.log("Parse error: ", e);
                            cb(e);
                        }
                    });
                }).on('error', function(e){
                        console.log("Got an error: ", e);
                        cb(e);
                });
                }

                //uncomment to test
                /*
                convertCurrency(10, 'USD', 'PHP', function(err, amount) {
                console.log(amount);
                });
                */
        fetch('https://free.currencyconverterapi.com/api/v5/countries')
        
         .then(function(response) {
        
           return response.json();
        
         })
        
         .then(function(results) {
        
           for (const result in results) {
        
              for (const id in results[result]) {
        
                  
        
                    console.log(results[result][id]["currencyId"]);
        
                
        
              }
        
            }
        
         }); 

    </script>   

    </body>

</html>